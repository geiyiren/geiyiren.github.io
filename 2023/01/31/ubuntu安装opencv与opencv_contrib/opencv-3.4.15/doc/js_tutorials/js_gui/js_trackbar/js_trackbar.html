<h1 id="Add-a-Trackbar-to-Your-Application-tutorial-js-trackbar"><a href="#Add-a-Trackbar-to-Your-Application-tutorial-js-trackbar" class="headerlink" title="Add a Trackbar to Your Application {#tutorial_js_trackbar}"></a>Add a Trackbar to Your Application {#tutorial_js_trackbar}</h1><h2 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h2><ul>
<li>Use HTML DOM Input Range Object to add a trackbar to your application.</li>
</ul>
<h2 id="Code-Demo"><a href="#Code-Demo" class="headerlink" title="Code Demo"></a>Code Demo</h2><p>Here, we will create a simple application that blends two images. We will let the user enter the<br>weight by using the trackbar.</p>
<p>First, we need to create three canvas elements: two for input and one for output. Please refer to<br>the tutorial @ref tutorial_js_image_display.<br>@code{.js}<br>let src1 &#x3D; cv.imread(‘canvasInput1’);<br>let src2 &#x3D; cv.imread(‘canvasInput2’);<br>@endcode</p>
<p>Then, we use HTML DOM Input Range Object to implement the trackbar, which is shown as below.<br><img src="/images/Trackbar_Tutorial_Range.png"></p>
<p>@note &lt;input&gt; elements with type&#x3D;”range” are not supported in Internet Explorer 9 and earlier versions.</p>
<p>You can create an &lt;input&gt; element with type&#x3D;”range” with the document.createElement() method:<br>@code{.js}<br>let x &#x3D; document.createElement(‘INPUT’);<br>x.setAttribute(‘type’, ‘range’);<br>@endcode</p>
<p>You can access an &lt;input&gt; element with type&#x3D;”range” with getElementById():<br>@code{.js}<br>let x &#x3D; document.getElementById(‘myRange’);<br>@endcode</p>
<p>As a trackbar, the range element need a trackbar name, the default value, minimum value, maximum value,<br>step and the callback function which is executed every time trackbar value changes. The callback function<br>always has a default argument, which is the trackbar position. Additionally, a text element to display the<br>trackbar value is fine. In our case, we can create the trackbar as below:<br>@code{.html}<br>Weight: <input type="range" id="trackbar" value="50" min="0" max="100" step="1" oninput="callback()"><br><input type="text" id="weightValue" size="3" value="50"/><br>@endcode</p>
<p>Finally, we can use the trackbar value in the callback function, blend the two images, and display the result.<br>@code{.js}<br>let weightValue &#x3D; document.getElementById(‘weightValue’);<br>let trackbar &#x3D; document.getElementById(‘trackbar’);<br>weightValue.setAttribute(‘value’, trackbar.value);<br>let alpha &#x3D; trackbar.value&#x2F;trackbar.max;<br>let beta &#x3D; ( 1.0 - alpha );<br>let src1 &#x3D; cv.imread(‘canvasInput1’);<br>let src2 &#x3D; cv.imread(‘canvasInput2’);<br>let dst &#x3D; new cv.Mat();<br>cv.addWeighted( src1, alpha, src2, beta, 0.0, dst, -1);<br>cv.imshow(‘canvasOutput’, dst);<br>dst.delete();<br>src1.delete();<br>src2.delete();<br>@endcode</p>
<p>@sa cv.addWeighted</p>
<h2 id="Try-it"><a href="#Try-it" class="headerlink" title="Try it"></a>Try it</h2><p>\htmlonly</p>
<iframe src="../../js_trackbar.html" width="100%"
        onload="this.style.height=this.contentDocument.body.scrollHeight +'px';">
</iframe>
\endhtmlonly
