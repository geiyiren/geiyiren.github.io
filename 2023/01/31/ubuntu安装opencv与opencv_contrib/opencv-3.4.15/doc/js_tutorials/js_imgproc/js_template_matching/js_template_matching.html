<h1 id="Template-Matching-tutorial-js-template-matching"><a href="#Template-Matching-tutorial-js-template-matching" class="headerlink" title="Template Matching {#tutorial_js_template_matching}"></a>Template Matching {#tutorial_js_template_matching}</h1><h2 id="Goals"><a href="#Goals" class="headerlink" title="Goals"></a>Goals</h2><ul>
<li>To find objects in an image using Template Matching</li>
<li>You will learn these functions : <strong>cv.matchTemplate()</strong>, <strong>cv.minMaxLoc()</strong></li>
</ul>
<h2 id="Theory"><a href="#Theory" class="headerlink" title="Theory"></a>Theory</h2><p>Template Matching is a method for searching and finding the location of a template image in a larger<br>image. OpenCV comes with a function <strong>cv.matchTemplate()</strong> for this purpose. It simply slides the<br>template image over the input image (as in 2D convolution) and compares the template and patch of<br>input image under the template image. Several comparison methods are implemented in OpenCV. (You can<br>check docs for more details). It returns a grayscale image, where each pixel denotes how much does<br>the neighbourhood of that pixel match with template.</p>
<p>If input image is of size (WxH) and template image is of size (wxh), output image will have a size<br>of (W-w+1, H-h+1). Once you got the result, you can use <strong>cv.minMaxLoc()</strong> function to find where<br>is the maximum&#x2F;minimum value. Take it as the top-left corner of rectangle and take (w,h) as width<br>and height of the rectangle. That rectangle is your region of template.</p>
<p>@note If you are using cv.TM_SQDIFF as comparison method, minimum value gives the best match.</p>
<h2 id="Template-Matching-in-OpenCV"><a href="#Template-Matching-in-OpenCV" class="headerlink" title="Template Matching in OpenCV"></a>Template Matching in OpenCV</h2><p>We use the function: <strong>cv.matchTemplate (image, templ, result, method, mask &#x3D; new cv.Mat())</strong></p>
<p>@param image      image where the search is running. It must be 8-bit or 32-bit floating-point.<br>@param templ      searched template. It must be not greater than the source image and have the same data type.<br>@param result     map of comparison results. It must be single-channel 32-bit floating-point.<br>@param method     parameter specifying the comparison method(see cv.TemplateMatchModes).<br>@param mask       mask of searched template. It must have the same datatype and size with templ. It is not set by default.</p>
<h2 id="Try-it"><a href="#Try-it" class="headerlink" title="Try it"></a>Try it</h2><p>\htmlonly</p>
<iframe src="../../js_template_matching_matchTemplate.html" width="100%"
        onload="this.style.height=this.contentDocument.body.scrollHeight +'px';">
</iframe>
\endhtmlonly