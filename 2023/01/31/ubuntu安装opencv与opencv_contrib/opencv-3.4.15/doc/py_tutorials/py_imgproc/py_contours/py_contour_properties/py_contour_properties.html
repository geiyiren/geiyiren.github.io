<h1 id="Contour-Properties-tutorial-py-contour-properties"><a href="#Contour-Properties-tutorial-py-contour-properties" class="headerlink" title="Contour Properties {#tutorial_py_contour_properties}"></a>Contour Properties {#tutorial_py_contour_properties}</h1><p>Here we will learn to extract some frequently used properties of objects like Solidity, Equivalent<br>Diameter, Mask image, Mean Intensity etc. More features can be found at <a href="http://www.mathworks.in/help/images/ref/regionprops.html">Matlab regionprops<br>documentation</a>.</p>
<p><em>(NB : Centroid, Area, Perimeter etc also belong to this category, but we have seen it in last<br>chapter)</em></p>
<ol>
<li>Aspect Ratio</li>
</ol>
<hr>
<p>It is the ratio of width to height of bounding rect of the object.</p>
<p>\f[Aspect ; Ratio &#x3D; \frac{Width}{Height}\f]<br>@code{.py}<br>x,y,w,h &#x3D; cv.boundingRect(cnt)<br>aspect_ratio &#x3D; float(w)&#x2F;h<br>@endcode</p>
<ol start="2">
<li>Extent</li>
</ol>
<hr>
<p>Extent is the ratio of contour area to bounding rectangle area.</p>
<p>\f[Extent &#x3D; \frac{Object ; Area}{Bounding ; Rectangle ; Area}\f]<br>@code{.py}<br>area &#x3D; cv.contourArea(cnt)<br>x,y,w,h &#x3D; cv.boundingRect(cnt)<br>rect_area &#x3D; w*h<br>extent &#x3D; float(area)&#x2F;rect_area<br>@endcode</p>
<ol start="3">
<li>Solidity</li>
</ol>
<hr>
<p>Solidity is the ratio of contour area to its convex hull area.</p>
<p>\f[Solidity &#x3D; \frac{Contour ; Area}{Convex ; Hull ; Area}\f]<br>@code{.py}<br>area &#x3D; cv.contourArea(cnt)<br>hull &#x3D; cv.convexHull(cnt)<br>hull_area &#x3D; cv.contourArea(hull)<br>solidity &#x3D; float(area)&#x2F;hull_area<br>@endcode</p>
<ol start="4">
<li>Equivalent Diameter</li>
</ol>
<hr>
<p>Equivalent Diameter is the diameter of the circle whose area is same as the contour area.</p>
<p>\f[Equivalent ; Diameter &#x3D; \sqrt{\frac{4 \times Contour ; Area}{\pi}}\f]<br>@code{.py}<br>area &#x3D; cv.contourArea(cnt)<br>equi_diameter &#x3D; np.sqrt(4*area&#x2F;np.pi)<br>@endcode</p>
<ol start="5">
<li>Orientation</li>
</ol>
<hr>
<p>Orientation is the angle at which object is directed. Following method also gives the Major Axis and<br>Minor Axis lengths.<br>@code{.py}<br>(x,y),(MA,ma),angle &#x3D; cv.fitEllipse(cnt)<br>@endcode</p>
<ol start="6">
<li>Mask and Pixel Points</li>
</ol>
<hr>
<p>In some cases, we may need all the points which comprises that object. It can be done as follows:<br>@code{.py}<br>mask &#x3D; np.zeros(imgray.shape,np.uint8)<br>cv.drawContours(mask,[cnt],0,255,-1)<br>pixelpoints &#x3D; np.transpose(np.nonzero(mask))<br>#pixelpoints &#x3D; cv.findNonZero(mask)<br>@endcode<br>Here, two methods, one using Numpy functions, next one using OpenCV function (last commented line)<br>are given to do the same. Results are also same, but with a slight difference. Numpy gives<br>coordinates in <strong>(row, column)</strong> format, while OpenCV gives coordinates in <strong>(x,y)</strong> format. So<br>basically the answers will be interchanged. Note that, <strong>row &#x3D; y</strong> and <strong>column &#x3D; x</strong>.</p>
<ol start="7">
<li>Maximum Value, Minimum Value and their locations</li>
</ol>
<hr>
<p>We can find these parameters using a mask image.<br>@code{.py}<br>min_val, max_val, min_loc, max_loc &#x3D; cv.minMaxLoc(imgray,mask &#x3D; mask)<br>@endcode</p>
<ol start="8">
<li>Mean Color or Mean Intensity</li>
</ol>
<hr>
<p>Here, we can find the average color of an object. Or it can be average intensity of the object in<br>grayscale mode. We again use the same mask to do it.<br>@code{.py}<br>mean_val &#x3D; cv.mean(im,mask &#x3D; mask)<br>@endcode</p>
<ol start="9">
<li>Extreme Points</li>
</ol>
<hr>
<p>Extreme Points means topmost, bottommost, rightmost and leftmost points of the object.<br>@code{.py}<br>leftmost &#x3D; tuple(cnt[cnt[:,:,0].argmin()][0])<br>rightmost &#x3D; tuple(cnt[cnt[:,:,0].argmax()][0])<br>topmost &#x3D; tuple(cnt[cnt[:,:,1].argmin()][0])<br>bottommost &#x3D; tuple(cnt[cnt[:,:,1].argmax()][0])<br>@endcode<br>For eg, if I apply it to an Indian map, I get the following result :</p>
<p><img src="/images/extremepoints.jpg" alt="image"></p>
<h2 id="Additional-Resources"><a href="#Additional-Resources" class="headerlink" title="Additional Resources"></a>Additional Resources</h2><h2 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h2><p>-#  There are still some features left in matlab regionprops doc. Try to implement them.</p>
