<h1 id="Contours-Getting-Started-tutorial-py-contours-begin"><a href="#Contours-Getting-Started-tutorial-py-contours-begin" class="headerlink" title="Contours : Getting Started {#tutorial_py_contours_begin}"></a>Contours : Getting Started {#tutorial_py_contours_begin}</h1><h2 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h2><ul>
<li>Understand what contours are.</li>
<li>Learn to find contours, draw contours etc</li>
<li>You will see these functions : <strong>cv.findContours()</strong>, <strong>cv.drawContours()</strong></li>
</ul>
<h2 id="What-are-contours"><a href="#What-are-contours" class="headerlink" title="What are contours?"></a>What are contours?</h2><p>Contours can be explained simply as a curve joining all the continuous points (along the boundary),<br>having same color or intensity. The contours are a useful tool for shape analysis and object<br>detection and recognition.</p>
<ul>
<li>For better accuracy, use binary images. So before finding contours, apply threshold or canny<br>edge detection.</li>
<li>Since OpenCV 3.2, findContours() no longer modifies the source image but returns a modified image as the first of three return parameters.</li>
<li>In OpenCV, finding contours is like finding white object from black background. So remember,<br>object to be found should be white and background should be black.</li>
</ul>
<p>Let’s see how to find contours of a binary image:<br>@code{.py}<br>import numpy as np<br>import cv2 as cv</p>
<p>im &#x3D; cv.imread(‘test.jpg’)<br>imgray &#x3D; cv.cvtColor(im, cv.COLOR_BGR2GRAY)<br>ret, thresh &#x3D; cv.threshold(imgray, 127, 255, 0)<br>im2, contours, hierarchy &#x3D; cv.findContours(thresh, cv.RETR_TREE, cv.CHAIN_APPROX_SIMPLE)<br>@endcode<br>See, there are three arguments in <strong>cv.findContours()</strong> function, first one is source image, second<br>is contour retrieval mode, third is contour approximation method. And it outputs a modified image, the contours and<br>hierarchy. contours is a Python list of all the contours in the image. Each individual contour is a<br>Numpy array of (x,y) coordinates of boundary points of the object.</p>
<p>@note We will discuss second and third arguments and about hierarchy in details later. Until then,<br>the values given to them in code sample will work fine for all images.</p>
<h2 id="How-to-draw-the-contours"><a href="#How-to-draw-the-contours" class="headerlink" title="How to draw the contours?"></a>How to draw the contours?</h2><p>To draw the contours, cv.drawContours function is used. It can also be used to draw any shape<br>provided you have its boundary points. Its first argument is source image, second argument is the<br>contours which should be passed as a Python list, third argument is index of contours (useful when<br>drawing individual contour. To draw all contours, pass -1) and remaining arguments are color,<br>thickness etc.</p>
<ul>
<li>To draw all the contours in an image:<br>@code{.py}<br>cv.drawContours(img, contours, -1, (0,255,0), 3)<br>@endcode</li>
<li>To draw an individual contour, say 4th contour:<br>@code{.py}<br>cv.drawContours(img, contours, 3, (0,255,0), 3)<br>@endcode</li>
<li>But most of the time, below method will be useful:<br>@code{.py}<br>cnt &#x3D; contours[4]<br>cv.drawContours(img, [cnt], 0, (0,255,0), 3)<br>@endcode</li>
</ul>
<p>@note Last two methods are same, but when you go forward, you will see last one is more useful.</p>
<h1 id="Contour-Approximation-Method"><a href="#Contour-Approximation-Method" class="headerlink" title="Contour Approximation Method"></a>Contour Approximation Method</h1><p>This is the third argument in cv.findContours function. What does it denote actually?</p>
<p>Above, we told that contours are the boundaries of a shape with same intensity. It stores the (x,y)<br>coordinates of the boundary of a shape. But does it store all the coordinates ? That is specified by<br>this contour approximation method.</p>
<p>If you pass cv.CHAIN_APPROX_NONE, all the boundary points are stored. But actually do we need all<br>the points? For eg, you found the contour of a straight line. Do you need all the points on the line<br>to represent that line? No, we need just two end points of that line. This is what<br>cv.CHAIN_APPROX_SIMPLE does. It removes all redundant points and compresses the contour, thereby<br>saving memory.</p>
<p>Below image of a rectangle demonstrate this technique. Just draw a circle on all the coordinates in<br>the contour array (drawn in blue color). First image shows points I got with cv.CHAIN_APPROX_NONE<br>(734 points) and second image shows the one with cv.CHAIN_APPROX_SIMPLE (only 4 points). See, how<br>much memory it saves!!!</p>
<p><img src="/images/none.jpg" alt="image"></p>
<h2 id="Additional-Resources"><a href="#Additional-Resources" class="headerlink" title="Additional Resources"></a>Additional Resources</h2><h2 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h2>