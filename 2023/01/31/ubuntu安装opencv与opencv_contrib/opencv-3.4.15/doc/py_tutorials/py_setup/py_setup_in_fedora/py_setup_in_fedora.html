<h1 id="Install-OpenCV-Python-in-Fedora-tutorial-py-setup-in-fedora"><a href="#Install-OpenCV-Python-in-Fedora-tutorial-py-setup-in-fedora" class="headerlink" title="Install OpenCV-Python in Fedora {#tutorial_py_setup_in_fedora}"></a>Install OpenCV-Python in Fedora {#tutorial_py_setup_in_fedora}</h1><h2 id="Goals"><a href="#Goals" class="headerlink" title="Goals"></a>Goals</h2><p>In this tutorial<br>    -   We will learn to setup OpenCV-Python in your Fedora system. Below steps are tested for<br>        Fedora 18 (64-bit) and Fedora 19 (32-bit).</p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>OpenCV-Python can be installed in Fedora in two ways, 1) Install from pre-built binaries available<br>in fedora repositories, 2) Compile from the source. In this section, we will see both.</p>
<p>Another important thing is the additional libraries required. OpenCV-Python requires only <strong>Numpy</strong><br>(in addition to other dependencies, which we will see later). But in this tutorials, we also use<br><strong>Matplotlib</strong> for some easy and nice plotting purposes (which I feel much better compared to<br>OpenCV). Matplotlib is optional, but highly recommended. Similarly we will also see <strong>IPython</strong>, an<br>Interactive Python Terminal, which is also highly recommended.</p>
<h2 id="Installing-OpenCV-Python-from-Pre-built-Binaries"><a href="#Installing-OpenCV-Python-from-Pre-built-Binaries" class="headerlink" title="Installing OpenCV-Python from Pre-built Binaries"></a>Installing OpenCV-Python from Pre-built Binaries</h2><p>Install all packages with following command in terminal as root.<br>@code{.sh}<br>$ yum install numpy opencv*<br>@endcode<br>Open Python IDLE (or IPython) and type following codes in Python terminal.<br>@code{.py}</p>
<blockquote>
<blockquote>
<blockquote>
<p>import cv2 as cv<br>print( cv.<strong>version</strong> )<br>@endcode<br>If the results are printed out without any errors, congratulations !!! You have installed<br>OpenCV-Python successfully.</p>
</blockquote>
</blockquote>
</blockquote>
<p>It is quite easy. But there is a problem with this. Yum repositories may not contain the latest<br>version of OpenCV always. For example, at the time of writing this tutorial, yum repository contains<br>2.4.5 while latest OpenCV version is 2.4.6. With respect to Python API, latest version will always<br>contain much better support. Also, there may be chance of problems with camera support, video<br>playback etc depending upon the drivers, ffmpeg, gstreamer packages present etc.</p>
<p>So my personal preference is next method, i.e. compiling from source. Also at some point in time,<br>if you want to contribute to OpenCV, you will need this.</p>
<h2 id="Installing-OpenCV-from-source"><a href="#Installing-OpenCV-from-source" class="headerlink" title="Installing OpenCV from source"></a>Installing OpenCV from source</h2><p>Compiling from source may seem a little complicated at first, but once you succeeded in it, there is<br>nothing complicated.</p>
<p>First we will install some dependencies. Some are compulsory, some are optional. Optional<br>dependencies, you can leave if you don’t want.</p>
<h3 id="Compulsory-Dependencies"><a href="#Compulsory-Dependencies" class="headerlink" title="Compulsory Dependencies"></a>Compulsory Dependencies</h3><p>We need <strong>CMake</strong> to configure the installation, <strong>GCC</strong> for compilation, <strong>Python-devel</strong> and<br><strong>Numpy</strong> for creating Python extensions etc.<br>@code{.sh}<br>yum install cmake<br>yum install python-devel numpy<br>yum install gcc gcc-c++<br>@endcode<br>Next we need <strong>GTK</strong> support for GUI features, Camera support (libdc1394, libv4l), Media Support<br>(ffmpeg, gstreamer) etc.<br>@code{.sh}<br>yum install gtk2-devel<br>yum install libdc1394-devel<br>yum install libv4l-devel<br>yum install ffmpeg-devel<br>yum install gstreamer-plugins-base-devel<br>@endcode</p>
<h3 id="Optional-Dependencies"><a href="#Optional-Dependencies" class="headerlink" title="Optional Dependencies"></a>Optional Dependencies</h3><p>Above dependencies are sufficient to install OpenCV in your fedora machine. But depending upon your<br>requirements, you may need some extra dependencies. A list of such optional dependencies are given<br>below. You can either leave it or install it, your call :)</p>
<p>OpenCV comes with supporting files for image formats like PNG, JPEG, JPEG2000, TIFF, WebP etc. But<br>it may be a little old. If you want to get latest libraries, you can install development files for<br>these formats.<br>@code{.sh}<br>yum install libpng-devel<br>yum install libjpeg-turbo-devel<br>yum install jasper-devel<br>yum install openexr-devel<br>yum install libtiff-devel<br>yum install libwebp-devel<br>@endcode<br>Several OpenCV functions are parallelized with <strong>Intel’s Threading Building Blocks</strong> (TBB). But if<br>you want to enable it, you need to install TBB first. ( Also while configuring installation with<br>CMake, don’t forget to pass -D WITH_TBB&#x3D;ON. More details below.)<br>@code{.sh}<br>yum install tbb-devel<br>@endcode<br>OpenCV uses another library <strong>Eigen</strong> for optimized mathematical operations. So if you have Eigen<br>installed in your system, you can exploit it. ( Also while configuring installation with CMake,<br>don’t forget to pass -D WITH_EIGEN&#x3D;ON. More details below.)<br>@code{.sh}<br>yum install eigen3-devel<br>@endcode<br>If you want to build <strong>documentation</strong> ( <em>Yes, you can create offline version of OpenCV’s complete<br>official documentation in your system in HTML with full search facility so that you need not access<br>internet always if any question, and it is quite FAST!!!</em> ), you need to install <strong>Doxygen</strong> (a<br>documentation generation tool).<br>@code{.sh}<br>yum install doxygen<br>@endcode</p>
<h3 id="Downloading-OpenCV"><a href="#Downloading-OpenCV" class="headerlink" title="Downloading OpenCV"></a>Downloading OpenCV</h3><p>Next we have to download OpenCV. You can download the latest release of OpenCV from <a href="http://sourceforge.net/projects/opencvlibrary/">sourceforge<br>site</a>. Then extract the folder.</p>
<p>Or you can download latest source from OpenCV’s github repo. (If you want to contribute to OpenCV,<br>choose this. It always keeps your OpenCV up-to-date). For that, you need to install <strong>Git</strong> first.<br>@code{.sh}<br>yum install git<br>git clone <a href="https://github.com/opencv/opencv.git">https://github.com/opencv/opencv.git</a><br>@endcode<br>It will create a folder OpenCV in home directory (or the directory you specify). The cloning may<br>take some time depending upon your internet connection.</p>
<p>Now open a terminal window and navigate to the downloaded OpenCV folder. Create a new build folder<br>and navigate to it.<br>@code{.sh}<br>mkdir build<br>cd build<br>@endcode</p>
<h3 id="Configuring-and-Installing"><a href="#Configuring-and-Installing" class="headerlink" title="Configuring and Installing"></a>Configuring and Installing</h3><p>Now we have installed all the required dependencies, let’s install OpenCV. Installation has to be<br>configured with CMake. It specifies which modules are to be installed, installation path, which<br>additional libraries to be used, whether documentation and examples to be compiled etc. Below<br>command is normally used for configuration (executed from build folder).<br>@code{.sh}<br>cmake -D CMAKE_BUILD_TYPE&#x3D;RELEASE -D CMAKE_INSTALL_PREFIX&#x3D;&#x2F;usr&#x2F;local ..<br>@endcode<br>It specifies that build type is “Release Mode” and installation path is &#x2F;usr&#x2F;local. Observe the -D<br>before each option and .. at the end. In short, this is the format:<br>@code{.sh}<br>cmake [-D <flag>] [-D <flag>] ..<br>@endcode<br>You can specify as many flags you want, but each flag should be preceded by -D.</p>
<p>So in this tutorial, we are installing OpenCV with TBB and Eigen support. We also build the<br>documentation, but we exclude Performance tests and building samples. We also disable GPU related<br>modules (since we use OpenCV-Python, we don’t need GPU related modules. It saves us some time).</p>
<p><em>(All the below commands can be done in a single cmake statement, but it is split here for better<br>understanding.)</em></p>
<ul>
<li>Enable TBB and Eigen support:<br>@code{.sh}<br>cmake -D WITH_TBB&#x3D;ON -D WITH_EIGEN&#x3D;ON ..<br>@endcode</li>
<li>Enable documentation and disable tests and samples<br>@code{.sh}<br>cmake -D BUILD_DOCS&#x3D;ON -D BUILD_TESTS&#x3D;OFF -D BUILD_PERF_TESTS&#x3D;OFF -D BUILD_EXAMPLES&#x3D;OFF ..<br>@endcode</li>
<li>Disable all GPU related modules.<br>@code{.sh}<br>cmake -D WITH_OPENCL&#x3D;OFF -D BUILD_opencv_gpu&#x3D;OFF -D BUILD_opencv_gpuarithm&#x3D;OFF -D BUILD_opencv_gpubgsegm&#x3D;OFF -D BUILD_opencv_gpucodec&#x3D;OFF -D BUILD_opencv_gpufeatures2d&#x3D;OFF -D BUILD_opencv_gpufilters&#x3D;OFF -D BUILD_opencv_gpuimgproc&#x3D;OFF -D BUILD_opencv_gpulegacy&#x3D;OFF -D BUILD_opencv_gpuoptflow&#x3D;OFF -D BUILD_opencv_gpustereo&#x3D;OFF -D BUILD_opencv_gpuwarping&#x3D;OFF ..<br>@endcode</li>
<li>Set installation path and build type<br>@code{.sh}<br>cmake -D CMAKE_BUILD_TYPE&#x3D;RELEASE -D CMAKE_INSTALL_PREFIX&#x3D;&#x2F;usr&#x2F;local ..<br>@endcode<br>Each time you enter cmake statement, it prints out the resulting configuration setup. In the final<br>setup you got, make sure that following fields are filled (below is the some important parts of<br>configuration I got). These fields should be filled appropriately in your system also. Otherwise<br>some problem has happened. So check if you have correctly performed above steps.<br>@code{.sh}<br>…<br>–   GUI:<br>–     GTK+ 2.x:                    YES (ver 2.24.19)<br>–     GThread :                    YES (ver 2.36.3)</li>
</ul>
<p>–   Video I&#x2F;O:<br>–     DC1394 2.x:                  YES (ver 2.2.0)<br>–     FFMPEG:                      YES<br>–       codec:                     YES (ver 54.92.100)<br>–       format:                    YES (ver 54.63.104)<br>–       util:                      YES (ver 52.18.100)<br>–       swscale:                   YES (ver 2.2.100)<br>–       gentoo-style:              YES<br>–     GStreamer:<br>–       base:                      YES (ver 0.10.36)<br>–       video:                     YES (ver 0.10.36)<br>–       app:                       YES (ver 0.10.36)<br>–       riff:                      YES (ver 0.10.36)<br>–       pbutils:                   YES (ver 0.10.36)</p>
<p>–     V4L&#x2F;V4L2:                    Using libv4l (ver 1.0.0)</p>
<p>–   Other third-party libraries:<br>–     Use Eigen:                   YES (ver 3.1.4)<br>–     Use TBB:                     YES (ver 4.0 interface 6004)</p>
<p>–   Python:<br>–     Interpreter:                 &#x2F;usr&#x2F;bin&#x2F;python2 (ver 2.7.5)<br>–     Libraries:                   &#x2F;lib&#x2F;libpython2.7.so (ver 2.7.5)<br>–     numpy:                       &#x2F;usr&#x2F;lib&#x2F;python2.7&#x2F;site-packages&#x2F;numpy&#x2F;core&#x2F;include (ver 1.7.1)<br>–     packages path:               lib&#x2F;python2.7&#x2F;site-packages</p>
<p>…<br>@endcode<br>Many other flags and settings are there. It is left for you for further exploration.</p>
<p>Now you build the files using make command and install it using make install command. make install<br>should be executed as root.<br>@code{.sh}<br>make<br>su<br>make install<br>@endcode<br>Installation is over. All files are installed in &#x2F;usr&#x2F;local&#x2F; folder. But to use it, your Python<br>should be able to find OpenCV module. You have two options for that.</p>
<p>-#  <strong>Move the module to any folder in Python Path</strong> : Python path can be found out by entering<br>    <code>import sys; print(sys.path)</code> in Python terminal. It will print out many locations. Move<br>    &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python2.7&#x2F;site-packages&#x2F;cv2.so to any of this folder. For example,<br>    @code{.sh}<br>    su mv &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python2.7&#x2F;site-packages&#x2F;cv2.so &#x2F;usr&#x2F;lib&#x2F;python2.7&#x2F;site-packages<br>    @endcode<br>But you will have to do this every time you install OpenCV.</p>
<p>-#  <strong>Add &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python2.7&#x2F;site-packages to the PYTHON_PATH</strong>: It is to be done only once.<br>    Just open ~&#x2F;.bashrc and add following line to it, then log out and come back.<br>    @code{.sh}<br>    export PYTHONPATH&#x3D;$PYTHONPATH:&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python2.7&#x2F;site-packages<br>    @endcode<br>Thus OpenCV installation is finished. Open a terminal and try ‘import cv2 as cv’.</p>
<p>To build the documentation, just enter following commands:<br>@code{.sh}<br>make doxygen<br>@endcode<br>Then open opencv&#x2F;build&#x2F;doc&#x2F;doxygen&#x2F;html&#x2F;index.html and bookmark it in the browser.</p>
<h2 id="Additional-Resources"><a href="#Additional-Resources" class="headerlink" title="Additional Resources"></a>Additional Resources</h2><h2 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h2><p>-#  Compile OpenCV from source in your Fedora machine.</p>
