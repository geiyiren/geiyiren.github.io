<h1 id="Install-OpenCV-Python-in-Ubuntu-tutorial-py-setup-in-ubuntu"><a href="#Install-OpenCV-Python-in-Ubuntu-tutorial-py-setup-in-ubuntu" class="headerlink" title="Install OpenCV-Python in Ubuntu {#tutorial_py_setup_in_ubuntu}"></a>Install OpenCV-Python in Ubuntu {#tutorial_py_setup_in_ubuntu}</h1><h2 id="Goals"><a href="#Goals" class="headerlink" title="Goals"></a>Goals</h2><p>In this tutorial We will learn to setup OpenCV-Python in Ubuntu System.<br>Below steps are tested for Ubuntu 16.04 and 18.04 (both 64-bit).</p>
<p>OpenCV-Python can be installed in Ubuntu in two ways:</p>
<ul>
<li>Install from pre-built binaries available in Ubuntu repositories</li>
<li>Compile from the source. In this section, we will see both.</li>
</ul>
<p>Another important thing is the additional libraries required.<br>OpenCV-Python requires only <strong>Numpy</strong> (in addition to other dependencies, which we will see later).<br>But in this tutorials, we also use <strong>Matplotlib</strong> for some easy and nice plotting purposes (which I feel much better compared to OpenCV).<br>Matplotlib is optional, but highly recommended.<br>Similarly we will also see <strong>IPython</strong>, an Interactive Python Terminal, which is also highly recommended.</p>
<h2 id="Installing-OpenCV-Python-from-Pre-built-Binaries"><a href="#Installing-OpenCV-Python-from-Pre-built-Binaries" class="headerlink" title="Installing OpenCV-Python from Pre-built Binaries"></a>Installing OpenCV-Python from Pre-built Binaries</h2><p>This method serves best when using just for programming and developing OpenCV applications.</p>
<p>Install package <a href="https://packages.ubuntu.com/focal/python3-opencv">python3-opencv</a> with following command in terminal (as root user).</p>
<pre><code>$ sudo apt-get install python3-opencv
</code></pre>
<p>Open Python IDLE (or IPython) and type following codes in Python terminal.</p>
<pre><code>import cv2 as cv
print(cv.__version__)
</code></pre>
<p>If the results are printed out without any errors, congratulations !!!<br>You have installed OpenCV-Python successfully.</p>
<p>It is quite easy. But there is a problem with this.<br>Apt repositories may not contain the latest version of OpenCV always.<br>For example, at the time of writing this tutorial, apt repository contains 2.4.8 while latest OpenCV version is 3.x.<br>With respect to Python API, latest version will always contain much better support and latest bug fixes.</p>
<p>So for getting latest source codes preference is next method, i.e. compiling from source.<br>Also at some point in time, if you want to contribute to OpenCV, you will need this.</p>
<h2 id="Building-OpenCV-from-source"><a href="#Building-OpenCV-from-source" class="headerlink" title="Building OpenCV from source"></a>Building OpenCV from source</h2><p>Compiling from source may seem a little complicated at first, but once you succeeded in it, there is nothing complicated.</p>
<p>First we will install some dependencies.<br>Some are required, some are optional.<br>You can skip optional dependencies if you don’t want.</p>
<h3 id="Required-build-dependencies"><a href="#Required-build-dependencies" class="headerlink" title="Required build dependencies"></a>Required build dependencies</h3><p>We need <strong>CMake</strong> to configure the installation, <strong>GCC</strong> for compilation, <strong>Python-devel</strong> and<br><strong>Numpy</strong> for building Python bindings etc.</p>
<pre><code>sudo apt-get install cmake
sudo apt-get install gcc g++
</code></pre>
<p>to support python2:</p>
<pre><code>sudo apt-get install python-dev python-numpy
</code></pre>
<p>to support python3:</p>
<pre><code>sudo apt-get install python3-dev python3-numpy
</code></pre>
<p>Next we need <strong>GTK</strong> support for GUI features, Camera support (v4l), Media Support<br>(ffmpeg, gstreamer) etc.</p>
<pre><code>sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev
sudo apt-get install libgstreamer-plugins-base1.0-dev libgstreamer1.0-dev
</code></pre>
<p>to support gtk2:</p>
<pre><code>sudo apt-get install libgtk2.0-dev
</code></pre>
<p>to support gtk3:</p>
<pre><code>sudo apt-get install libgtk-3-dev
</code></pre>
<h3 id="Optional-Dependencies"><a href="#Optional-Dependencies" class="headerlink" title="Optional Dependencies"></a>Optional Dependencies</h3><p>Above dependencies are sufficient to install OpenCV in your Ubuntu machine.<br>But depending upon your requirements, you may need some extra dependencies.<br>A list of such optional dependencies are given below. You can either leave it or install it, your call :)</p>
<p>OpenCV comes with supporting files for image formats like PNG, JPEG, JPEG2000, TIFF, WebP etc.<br>But it may be a little old.<br>If you want to get latest libraries, you can install development files for system libraries of these formats.</p>
<pre><code>sudo apt-get install libpng-dev
sudo apt-get install libjpeg-dev
sudo apt-get install libopenexr-dev
sudo apt-get install libtiff-dev
sudo apt-get install libwebp-dev
</code></pre>
<p>@note If you are using Ubuntu 16.04 you can also install <code>libjasper-dev</code> to add a system level support for the JPEG2000 format.</p>
<h3 id="Downloading-OpenCV"><a href="#Downloading-OpenCV" class="headerlink" title="Downloading OpenCV"></a>Downloading OpenCV</h3><p>To download the latest source from OpenCV’s <a href="https://github.com/opencv/opencv">GitHub Repository</a>.<br>(If you want to contribute to OpenCV choose this. For that, you need to install <strong>Git</strong> first)</p>
<pre><code>$ sudo apt-get install git
$ git clone https://github.com/opencv/opencv.git
</code></pre>
<p>It will create a folder “opencv” in current directory.<br>The cloning may take some time depending upon your internet connection.</p>
<p>Now open a terminal window and navigate to the downloaded “opencv” folder.<br>Create a new “build” folder and navigate to it.</p>
<pre><code>$ mkdir build
$ cd build
</code></pre>
<h3 id="Configuring-and-Installing"><a href="#Configuring-and-Installing" class="headerlink" title="Configuring and Installing"></a>Configuring and Installing</h3><p>Now we have all the required dependencies, let’s install OpenCV.<br>Installation has to be configured with CMake.<br>It specifies which modules are to be installed, installation path, which additional libraries to be used, whether documentation and examples to be compiled etc.<br>Most of this work are done automatically with well configured default parameters.</p>
<p>Below command is normally used for configuration of OpenCV library build (executed from build folder):</p>
<pre><code>$ cmake ../
</code></pre>
<p>OpenCV defaults assume “Release” build type and installation path is “&#x2F;usr&#x2F;local”.<br>For additional information about CMake options refer to OpenCV @ref tutorial_linux_install “C++ compilation guide”:</p>
<p>You should see these lines in your CMake output (they mean that Python is properly found):</p>
<pre><code>--   Python 2:
--     Interpreter:                 /usr/bin/python2.7 (ver 2.7.6)
--     Libraries:                   /usr/lib/x86_64-linux-gnu/libpython2.7.so (ver 2.7.6)
--     numpy:                       /usr/lib/python2.7/dist-packages/numpy/core/include (ver 1.8.2)
--     packages path:               lib/python2.7/dist-packages
--
--   Python 3:
--     Interpreter:                 /usr/bin/python3.4 (ver 3.4.3)
--     Libraries:                   /usr/lib/x86_64-linux-gnu/libpython3.4m.so (ver 3.4.3)
--     numpy:                       /usr/lib/python3/dist-packages/numpy/core/include (ver 1.8.2)
--     packages path:               lib/python3.4/dist-packages
</code></pre>
<p>Now you build the files using “make” command and install it using “make install” command.</p>
<pre><code>$ make
# sudo make install
</code></pre>
<p>Installation is over.<br>All files are installed in “&#x2F;usr&#x2F;local&#x2F;“ folder.<br>Open a terminal and try import “cv2”.</p>
<pre><code>import cv2 as cv
print(cv.__version__)
</code></pre>
