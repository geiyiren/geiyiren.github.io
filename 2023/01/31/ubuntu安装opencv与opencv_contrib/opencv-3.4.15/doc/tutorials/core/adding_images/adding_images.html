<h1 id="Adding-blending-two-images-using-OpenCV-tutorial-adding-images"><a href="#Adding-blending-two-images-using-OpenCV-tutorial-adding-images" class="headerlink" title="Adding (blending) two images using OpenCV {#tutorial_adding_images}"></a>Adding (blending) two images using OpenCV {#tutorial_adding_images}</h1><p>@prev_tutorial{tutorial_mat_operations}<br>@next_tutorial{tutorial_basic_linear_transform}</p>
<h2 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h2><p>In this tutorial you will learn:</p>
<ul>
<li>what is <em>linear blending</em> and why it is useful;</li>
<li>how to add two images using <strong>addWeighted()</strong></li>
</ul>
<h2 id="Theory"><a href="#Theory" class="headerlink" title="Theory"></a>Theory</h2><p>@note<br>   The explanation below belongs to the book <a href="http://szeliski.org/Book/">Computer Vision: Algorithms and<br>    Applications</a> by Richard Szeliski</p>
<p>From our previous tutorial, we know already a bit of <em>Pixel operators</em>. An interesting dyadic<br>(two-input) operator is the <em>linear blend operator</em>:</p>
<p>\f[g(x) &#x3D; (1 - \alpha)f_{0}(x) + \alpha f_{1}(x)\f]</p>
<p>By varying \f$\alpha\f$ from \f$0 \rightarrow 1\f$ this operator can be used to perform a temporal<br><em>cross-dissolve</em> between two images or videos, as seen in slide shows and film productions (cool,<br>eh?)</p>
<h2 id="Source-Code"><a href="#Source-Code" class="headerlink" title="Source Code"></a>Source Code</h2><p>@add_toggle_cpp<br>Download the source code from<br><a href="https://raw.githubusercontent.com/opencv/opencv/3.4/samples/cpp/tutorial_code/core/AddingImages/AddingImages.cpp">here</a>.<br>@include cpp&#x2F;tutorial_code&#x2F;core&#x2F;AddingImages&#x2F;AddingImages.cpp<br>@end_toggle</p>
<p>@add_toggle_java<br>Download the source code from<br><a href="https://raw.githubusercontent.com/opencv/opencv/3.4/samples/java/tutorial_code/core/AddingImages/AddingImages.java">here</a>.<br>@include java&#x2F;tutorial_code&#x2F;core&#x2F;AddingImages&#x2F;AddingImages.java<br>@end_toggle</p>
<p>@add_toggle_python<br>Download the source code from<br><a href="https://raw.githubusercontent.com/opencv/opencv/3.4/samples/python/tutorial_code/core/AddingImages/adding_images.py">here</a>.<br>@include python&#x2F;tutorial_code&#x2F;core&#x2F;AddingImages&#x2F;adding_images.py<br>@end_toggle</p>
<h2 id="Explanation"><a href="#Explanation" class="headerlink" title="Explanation"></a>Explanation</h2><p>Since we are going to perform:</p>
<p>\f[g(x) &#x3D; (1 - \alpha)f_{0}(x) + \alpha f_{1}(x)\f]</p>
<p>We need two source images (\f$f_{0}(x)\f$ and \f$f_{1}(x)\f$). So, we load them in the usual way:<br>@add_toggle_cpp<br>@snippet cpp&#x2F;tutorial_code&#x2F;core&#x2F;AddingImages&#x2F;AddingImages.cpp load<br>@end_toggle</p>
<p>@add_toggle_java<br>@snippet java&#x2F;tutorial_code&#x2F;core&#x2F;AddingImages&#x2F;AddingImages.java load<br>@end_toggle</p>
<p>@add_toggle_python<br>@snippet python&#x2F;tutorial_code&#x2F;core&#x2F;AddingImages&#x2F;adding_images.py load<br>@end_toggle</p>
<p>We used the following images: <a href="https://raw.githubusercontent.com/opencv/opencv/3.4/samples/data/LinuxLogo.jpg">LinuxLogo.jpg</a> and <a href="https://raw.githubusercontent.com/opencv/opencv/3.4/samples/data/WindowsLogo.jpg">WindowsLogo.jpg</a></p>
<p>@warning Since we are <em>adding</em> <em>src1</em> and <em>src2</em>, they both have to be of the same size<br>(width and height) and type.</p>
<p>Now we need to generate the <code>g(x)</code> image. For this, the function <strong>addWeighted()</strong> comes quite handy:</p>
<p>@add_toggle_cpp<br>@snippet cpp&#x2F;tutorial_code&#x2F;core&#x2F;AddingImages&#x2F;AddingImages.cpp blend_images<br>@end_toggle</p>
<p>@add_toggle_java<br>@snippet java&#x2F;tutorial_code&#x2F;core&#x2F;AddingImages&#x2F;AddingImages.java blend_images<br>@end_toggle</p>
<p>@add_toggle_python<br>@snippet python&#x2F;tutorial_code&#x2F;core&#x2F;AddingImages&#x2F;adding_images.py blend_images<br>Numpy version of above line (but cv function is around 2x faster):<br>\code{.py}<br>    dst &#x3D; np.uint8(alpha*(img1)+beta*(img2))<br>\endcode<br>@end_toggle</p>
<p>since <strong>addWeighted()</strong>  produces:<br>\f[dst &#x3D; \alpha \cdot src1 + \beta \cdot src2 + \gamma\f]<br>In this case, <code>gamma</code> is the argument \f$0.0\f$ in the code above.</p>
<p>Create windows, show the images and wait for the user to end the program.<br>@add_toggle_cpp<br>@snippet cpp&#x2F;tutorial_code&#x2F;core&#x2F;AddingImages&#x2F;AddingImages.cpp display<br>@end_toggle</p>
<p>@add_toggle_java<br>@snippet java&#x2F;tutorial_code&#x2F;core&#x2F;AddingImages&#x2F;AddingImages.java display<br>@end_toggle</p>
<p>@add_toggle_python<br>@snippet python&#x2F;tutorial_code&#x2F;core&#x2F;AddingImages&#x2F;adding_images.py display<br>@end_toggle</p>
<h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><p><img src="/images/Adding_Images_Tutorial_Result_Big.jpg"></p>
