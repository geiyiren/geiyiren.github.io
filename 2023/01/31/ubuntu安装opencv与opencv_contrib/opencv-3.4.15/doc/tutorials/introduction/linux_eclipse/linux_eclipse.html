<h1 id="Using-OpenCV-with-Eclipse-plugin-CDT-tutorial-linux-eclipse"><a href="#Using-OpenCV-with-Eclipse-plugin-CDT-tutorial-linux-eclipse" class="headerlink" title="Using OpenCV with Eclipse (plugin CDT) {#tutorial_linux_eclipse}"></a>Using OpenCV with Eclipse (plugin CDT) {#tutorial_linux_eclipse}</h1><p>@prev_tutorial{tutorial_linux_gcc_cmake}<br>@next_tutorial{tutorial_windows_install}</p>
<h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><p>Two ways, one by forming a project directly, and another by CMake Prerequisites<br>-#  Having installed <a href="http://www.eclipse.org/">Eclipse</a> in your workstation (only the CDT plugin for<br>    C&#x2F;C++ is needed). You can follow the following steps:<br>    -   Go to the Eclipse site<br>    -   Download <a href="http://www.eclipse.org/downloads/packages/eclipse-ide-cc-developers/heliossr2">Eclipse IDE for C&#x2F;C++<br>        Developers</a> .<br>        Choose the link according to your workstation.<br>-#  Having installed OpenCV. If not yet, go @ref tutorial_linux_install “here”.</p>
<h2 id="Making-a-project"><a href="#Making-a-project" class="headerlink" title="Making a project"></a>Making a project</h2><p>-#  Start Eclipse. Just run the executable that comes in the folder.<br>-#  Go to <strong>File -&gt; New -&gt; C&#x2F;C++ Project</strong></p>
<pre><code>![](images/a0.png)
</code></pre>
<p>-#  Choose a name for your project (i.e. DisplayImage). An <strong>Empty Project</strong> should be okay for this<br>    example.</p>
<pre><code>![](images/a1.png)
</code></pre>
<p>-#  Leave everything else by default. Press <strong>Finish</strong>.<br>-#  Your project (in this case DisplayImage) should appear in the <strong>Project Navigator</strong> (usually at<br>    the left side of your window).</p>
<pre><code>![](images/a3.png)
</code></pre>
<p>-#  Now, let’s add a source file using OpenCV:<br>    -   Right click on <strong>DisplayImage</strong> (in the Navigator). <strong>New -&gt; Folder</strong> .</p>
<pre><code>    ![](images/a4.png)

-   Name your folder **src** and then hit **Finish**
-   Right click on your newly created **src** folder. Choose **New source file**:
-   Call it **DisplayImage.cpp**. Hit **Finish**

    ![](images/a7.png)
</code></pre>
<p>-#  So, now you have a project with a empty .cpp file. Let’s fill it with some sample code (in other<br>    words, copy and paste the snippet below):<br>    @code{.cpp}<br>    #include &lt;opencv2&#x2F;opencv.hpp&gt;</p>
<pre><code>using namespace cv;

int main( int argc, char** argv )
{
  Mat image;
  image = imread( argv[1], 1 );

  if( argc != 2 || !image.data )
    {
      printf( &quot;No image data \n&quot; );
      return -1;
    }

  namedWindow( &quot;Display Image&quot;, WINDOW_AUTOSIZE );
  imshow( &quot;Display Image&quot;, image );

  waitKey(0);

  return 0;
}
@endcode
</code></pre>
<p>-#  We are only missing one final step: To tell OpenCV where the OpenCV headers and libraries are.<br>    For this, do the following:</p>
<pre><code>-   Go to **Project--\&gt;Properties**
-   In **C/C++ Build**, click on **Settings**. At the right, choose the **Tool Settings** Tab.
    Here we will enter the headers and libraries info:
    -#  In **GCC C++ Compiler**, go to **Includes**. In **Include paths(-l)** you should
        include the path of the folder where opencv was installed. In our example, this is
        /usr/local/include/opencv.

        ![](images/a9.png)

        @note If you do not know where your opencv files are, open the **Terminal** and type:
        @code{.bash}
        pkg-config --cflags opencv
        @endcode
        For instance, that command gave me this output:
        @code{.bash}
        -I/usr/local/include/opencv -I/usr/local/include
        @endcode

    -#  Now go to **GCC C++ Linker**,there you have to fill two spaces:

        First in **Library search path (-L)** you have to write the path to where the opencv libraries
        reside, in my case the path is: :

            /usr/local/lib

        Then in **Libraries(-l)** add the OpenCV libraries that you may need. Usually just the 4 first
        on the list below are enough (for simple applications) . In my case, I am putting all of them
        since I plan to use the whole bunch:

        opencv_core opencv_imgproc opencv_imgcodecs opencv_highgui opencv_ml opencv_videoio opencv_video opencv_features2d
        opencv_calib3d opencv_objdetect opencv_flann

        ![](images/a10.png)

        If you don&#39;t know where your libraries are (or you are just psychotic and want to make sure
        the path is fine), type in **Terminal**:
        @code{.bash}
        pkg-config --libs opencv
        @endcode
        My output (in case you want to check) was:
        @code{.bash}
        -L/usr/local/lib -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_ml -lopencv_video -lopencv_features2d -lopencv_calib3d -lopencv_objdetect -lopencv_videoio -lopencv_imgcodecs -lopencv_flann
        @endcode
        Now you are done. Click **OK**
</code></pre>
<ul>
<li><p>Your project should be ready to be built. For this, go to <strong>Project-&gt;Build all</strong></p>
<p>In the Console you should get something like</p>
<p><img src="/images/a12.png"></p>
<p>If you check in your folder, there should be an executable there.</p>
</li>
</ul>
<h2 id="Running-the-executable"><a href="#Running-the-executable" class="headerlink" title="Running the executable"></a>Running the executable</h2><p>So, now we have an executable ready to run. If we were to use the Terminal, we would probably do<br>something like:<br>@code{.bash}<br>cd <DisplayImage_directory><br>cd src<br>.&#x2F;DisplayImage ..&#x2F;images&#x2F;HappyLittleFish.png<br>@endcode<br>Assuming that the image to use as the argument would be located in<br>&lt;DisplayImage_directory&gt;&#x2F;images&#x2F;HappyLittleFish.png. We can still do this, but let’s do it from<br>Eclipse:</p>
<p>-#  Go to <strong>Run-&gt;Run Configurations</strong><br>-#  Under C&#x2F;C++ Application you will see the name of your executable + Debug (if not, click over<br>    C&#x2F;C++ Application a couple of times). Select the name (in this case <strong>DisplayImage Debug</strong>).<br>-#  Now, in the right side of the window, choose the <strong>Arguments</strong> Tab. Write the path of the image<br>    file we want to open (path relative to the workspace&#x2F;DisplayImage folder). Let’s use<br>    <strong>HappyLittleFish.png</strong>:</p>
<pre><code>![](images/a14.png)
</code></pre>
<p>-#  Click on the <strong>Apply</strong> button and then in Run. An OpenCV window should pop up with the fish<br>    image (or whatever you used).</p>
<pre><code>![](images/a15.jpg)
</code></pre>
<p>-#  Congratulations! You are ready to have fun with OpenCV using Eclipse.</p>
<h3 id="V2-Using-CMake-OpenCV-with-Eclipse-plugin-CDT"><a href="#V2-Using-CMake-OpenCV-with-Eclipse-plugin-CDT" class="headerlink" title="V2: Using CMake+OpenCV with Eclipse (plugin CDT)"></a>V2: Using CMake+OpenCV with Eclipse (plugin CDT)</h3><p>Say you have or create a new file, <em>helloworld.cpp</em> in a directory called <em>foo</em>:<br>@code{.cpp}<br>#include &lt;opencv2&#x2F;opencv.hpp&gt;<br>using namespace cv;</p>
<p>int main ( int argc, char **argv )<br>{<br>  Mat img(480, 640, CV_8U);<br>  putText(img, “Hello World!”, Point( 200, 400 ), FONT_HERSHEY_SIMPLEX | FONT_ITALIC, 1.0, Scalar( 255, 255, 0 ));<br>  imshow(“My Window”, img);<br>  waitKey();<br>  return 0;<br>}<br>@endcode<br>-#  Create a build directory, say, under <em>foo</em>: mkdir &#x2F;build. Then cd build.<br>-#  Put a <code>CmakeLists.txt</code> file in build:<br>@code{.bash}<br>PROJECT( helloworld_proj )<br>FIND_PACKAGE( OpenCV REQUIRED )<br>ADD_EXECUTABLE( helloworld helloworld.cxx )<br>TARGET_LINK_LIBRARIES( helloworld \f${OpenCV_LIBS} )<br>@endcode<br>-#  Run: cmake-gui .. and make sure you fill in where opencv was built.<br>-#  Then click configure and then generate. If it’s OK, <strong>quit cmake-gui</strong><br>-#  Run <code>make -j4</code> (the -j4 is optional, it just tells the compiler to build in 4 threads). Make<br>    sure it builds.<br>-#  Start eclipse. Put the workspace in some directory but <strong>not</strong> in foo or <code>foo\build</code><br>-#  Right click in the Project Explorer section. Select Import And then open the C&#x2F;C++ filter.<br>    Choose <em>Existing Code</em> as a Makefile Project.<br>-#  Name your project, say <em>helloworld</em>. Browse to the Existing Code location <code>foo\build</code> (where<br>    you ran your cmake-gui from). Select <em>Linux GCC</em> in the <em>“Toolchain for Indexer Settings”</em> and<br>    press <em>Finish</em>.<br>-#  Right click in the Project Explorer section. Select Properties. Under C&#x2F;C++ Build, set the<br>    <em>build directory:</em> from something like <code>${workspace_loc:/helloworld}</code> to<br>    <code>${workspace_loc:/helloworld}/build</code> since that’s where you are building to.</p>
<pre><code>-#  You can also optionally modify the Build command: from make to something like
    `make VERBOSE=1 -j4` which tells the compiler to produce detailed symbol files for debugging and
    also to compile in 4 parallel threads.
</code></pre>
<p>-#  Done!</p>
