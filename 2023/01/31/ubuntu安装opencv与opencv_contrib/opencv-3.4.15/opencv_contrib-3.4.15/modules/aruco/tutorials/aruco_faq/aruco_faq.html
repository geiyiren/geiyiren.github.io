<h1 id="Aruco-module-FAQ-tutorial-aruco-faq"><a href="#Aruco-module-FAQ-tutorial-aruco-faq" class="headerlink" title="Aruco module FAQ {#tutorial_aruco_faq}"></a>Aruco module FAQ {#tutorial_aruco_faq}</h1><p>This is a compilation of questions that can be useful for those that want to use the aruco module.</p>
<ul>
<li>I only want to label some objects, what should I use?</li>
</ul>
<p>In this case, you only need single ArUco markers. You can place one or several markers with different ids in each of the object you want to identify.</p>
<ul>
<li>Which algorithm is used for marker detection?</li>
</ul>
<p>The aruco module is based on the original ArUco library. A full description of the detection process can be found in:</p>
<blockquote>
<p>S. Garrido-Jurado, R. Muñoz-Salinas, F. J. Madrid-Cuevas, and M. J. Marín-Jiménez. 2014.<br>“Automatic generation and detection of highly reliable fiducial markers under occlusion”.<br>Pattern Recogn. 47, 6 (June 2014), 2280-2292. DOI&#x3D;10.1016&#x2F;j.patcog.2014.01.005</p>
</blockquote>
<ul>
<li>My markers are not being detected correctly, what can I do?</li>
</ul>
<p>There can be many factors that avoid the correct detection of markers. You probably need to adjust some of the parameters<br>in the <code>DetectorParameters</code> object. The first thing you can do is checking if your markers are returned<br>as rejected candidates by the <code>detectMarkers()</code> function. Depending on this, you should try to modify different parameters.</p>
<p>If you are using a ArUco board, you can also try the <code>refineDetectedMarkers()</code> function.</p>
<ul>
<li>What are the benefits of ArUco boards? What are the drawbacks?</li>
</ul>
<p>Using a board of markers you can obtain the camera pose from a set of markers, instead of a single one. This way,<br>the detection is able to handle occlusion of partial views of the Board, since only one marker is necessary to obtain the pose.</p>
<p>Furthermore, as in most cases you are using more corners for pose estimation, it will be more accurate than using a single marker.</p>
<p>The main drawback is that a Board is not as versatile as a single marker.</p>
<ul>
<li>What are the benefits of ChArUco boards over ArUco boards? And the drawbacks?</li>
</ul>
<p>ChArUco boards combines chessboards with ArUco boards. Thanks to this, the corners provided by ChArUco boards are more accurate than those provided by ArUco Boards (or single markers).</p>
<p>The main drawback is that ChArUco boards are not as versatile as ArUco board. For instance, a ChArUco board is a planar board with a specific marker layout while the ArUco boards<br>can have any layout, even in 3d. Furthermore, the markers in the ChArUco board are usually smaller and more difficult to detect.</p>
<ul>
<li>I do not need pose estimation, should I use ChArUco boards?</li>
</ul>
<p>No. The main goal of ChArUco boards is provide high accurate corners for pose estimation or camera calibration.</p>
<ul>
<li>Should all the markers in an ArUco board be placed in the same plane?</li>
</ul>
<p>No, the marker corners in a ArUco board can be placed anywhere in its 3d coordinate system.</p>
<ul>
<li>Should all the markers in an ChArUco board be placed in the same plane?</li>
</ul>
<p>Yes, all the markers in a ChArUco board need to be in the same plane and their layout is fixed by the chessboard shape.</p>
<ul>
<li>What is the difference between a <code>Board</code> object and a <code>GridBoard</code> object?</li>
</ul>
<p>The <code>GridBoard</code> class is a specific type of board that inherits from <code>Board</code> class. A <code>GridBoard</code> object is a board whose markers are placed in the same<br>plane and in a grid layout.</p>
<ul>
<li>What are Diamond markers?</li>
</ul>
<p>Diamond markers are very similar to a ChArUco board of 3x3 squares. However, contrary to ChArUco boards, the detection of diamonds is based on the relative position of the markers.<br>They are useful when you want to provide a conceptual meaning to any (or all) of the markers in the diamond. An example is using one of the marker to provide the diamond scale.</p>
<ul>
<li>Do I need to detect marker before board detection, ChArUco board detection or Diamond detection?</li>
</ul>
<p>Yes, the detection of single markers is a basic tool in the aruco module. It is done using the <code>detectMarkers()</code> function. The rest of functionalities receives<br>a list of detected markers from this function.</p>
<ul>
<li>I want to calibrate my camera, can I use this module?</li>
</ul>
<p>Yes, the aruco module provides functionalities to calibrate the camera using both, ArUco boards and ChArUco boards.</p>
<ul>
<li>Should I calibrate using a ChArUco board or an ArUco board?</li>
</ul>
<p>It is highly recommended the calibration using ChArUco board due to the high accuracy.</p>
<ul>
<li>Should I use a predefined dictionary or generate my own dictionary?</li>
</ul>
<p>In general, it is easier to use one of the predefined dictionaries. However, if you need a bigger dictionary (in terms of number of markers or number of bits)<br>you should generate your own dictionary. Dictionary generation is also useful if you want to maximize the inter-marker distance to achieve a better error<br>correction during the identification step.</p>
<ul>
<li>I am generating my own dictionary but it takes too long</li>
</ul>
<p>Dictionary generation should only be done once at the beginning of your application and it should take some seconds. If you are<br>generating the dictionary on each iteration of your detection loop, you are doing it wrong.</p>
<p>Furthermore, it is recommendable to save the dictionary to a file and read it on every execution so you dont need to generate it.</p>
<ul>
<li>I would like to use some markers of the original ArUco library that I have already printed, can I use them?</li>
</ul>
<p>Yes, one of the predefined dictionary is <code>DICT_ARUCO_ORIGINAL</code>, which detects the marker of the original ArUco library with the same identifiers.</p>
<ul>
<li>Can I use the Board configuration file of the original ArUco library in this module?</li>
</ul>
<p>Not directly, you will need to adapt the information of the ArUco file to the aruco module Board format.</p>
<ul>
<li>Can I use this module to detect the markers of other libraries based on binary fiducial markers?</li>
</ul>
<p>Probably yes, however you will need to port the dictionary of the original library to the aruco module format.</p>
<ul>
<li>Do I need to store the Dictionary information in a file so I can use it in different executions?</li>
</ul>
<p>If you are using one of the predefined dictionaries, it is not necessary. Otherwise, it is recommendable that you save it to file.</p>
<ul>
<li>Do I need to store the Board information in a file so I can use it in different executions?</li>
</ul>
<p>If you are using a <code>GridBoard</code> or a <code>ChArUco</code> board you only need to store the board measurements that are provided to the <code>GridBoard::create()</code> or <code>ChArUco::create()</code> functions.<br>If you manually modify the marker ids of the boards, or if you use a different type of board, you should save your board object to file.</p>
<ul>
<li>Does the aruco module provide functions to save the Dictionary or Board to file?</li>
</ul>
<p>Not right now. However the data member of both the dictionary and board classes are public and can be easily stored.</p>
<ul>
<li>Alright, but how can I render a 3d model to create an augmented reality application?</li>
</ul>
<p>To do so, you will need to use an external rendering engine library, such as OpenGL. The aruco module only provides the functionality to<br>obtain the camera pose, i.e. the rotation and traslation vectors, which is necessary to create the augmented reality effect.<br>However, you will need to adapt the rotation and traslation vectors from the OpenCV format to the format accepted by your 3d rendering library.<br>The original ArUco library contains examples of how to do it for OpenGL and Ogre3D.</p>
<ul>
<li>I have use this module in my research work, how can I cite it?</li>
</ul>
<p>You can cite the original ArUco library:</p>
<blockquote>
<p>S. Garrido-Jurado, R. Muñoz-Salinas, F. J. Madrid-Cuevas, and M. J. Marín-Jiménez. 2014.<br>“Automatic generation and detection of highly reliable fiducial markers under occlusion”.<br>Pattern Recogn. 47, 6 (June 2014), 2280-2292. DOI&#x3D;10.1016&#x2F;j.patcog.2014.01.005</p>
</blockquote>
