<h1 id="Reading-and-Writing-Attributes-tutorial-hdf-read-write-attributes"><a href="#Reading-and-Writing-Attributes-tutorial-hdf-read-write-attributes" class="headerlink" title="Reading and Writing Attributes{#tutorial_hdf_read_write_attributes}"></a>Reading and Writing Attributes{#tutorial_hdf_read_write_attributes}</h1><h2 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h2><p>This tutorial shows you:</p>
<ul>
<li>How to write attributes?</li>
<li>How to read attributes?</li>
</ul>
<p>@note Although attributes can be associated with groups and datasets, only attributes<br>with the root group are implemented in OpenCV. Supported attribute types are<br><code>int</code>, <code>double</code>, <code>cv::String</code> and <code>cv::InputArray</code> (only for continuous arrays).</p>
<h2 id="Source-Code"><a href="#Source-Code" class="headerlink" title="Source Code"></a>Source Code</h2><p>The following code demonstrates reading and writing attributes<br>inside the root group with data types <code>cv::Mat</code>, <code>cv::String</code>, <code>int</code><br>and <code>double</code>.</p>
<p>You can download the code from <a href="https://github.com/opencv/opencv_contrib/tree/master/modules/hdf/samples/read_write_attributes.cpp">here</a> or find it in the file<br><code>modules/hdf/samples/read_write_attributes.cpp</code> of the opencv_contrib source code library.</p>
<p>@snippet samples&#x2F;read_write_attributes.cpp tutorial</p>
<h2 id="Explanation"><a href="#Explanation" class="headerlink" title="Explanation"></a>Explanation</h2><p>The first step is to open the HDF5 file:</p>
<p>@snippet samples&#x2F;read_write_attributes.cpp tutorial_open_file</p>
<p>Then we use cv::hdf::HDF5::atwrite() to write attributes by specifying its value and name:</p>
<p>@snippet samples&#x2F;read_write_attributes.cpp tutorial_write_mat</p>
<p>@warning Before writing an attribute, we have to make sure that<br>the attribute does not exist using cv::hdf::HDF5::atexists().</p>
<p>To read an attribute, we use cv::hdf::HDF5::atread() by specifying the attribute name</p>
<p>@snippet samples&#x2F;read_write_attributes.cpp tutorial_read_mat</p>
<p>In the end, we have to close the HDF file</p>
<p>@snippet samples&#x2F;read_write_attributes.cpp tutorial_close_file</p>
<h2 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h2><p>Figure 1 and Figure 2 give the results visualized using the tool HDFView.</p>
<p><img src="/pics/attributes-file.png" alt="Figure 1: Attributes of the root group"></p>
<p><img src="/pics/attributes-details.png" alt="Figure 2: Detailed attribute information"></p>
