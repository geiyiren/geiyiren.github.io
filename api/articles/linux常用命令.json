{"title":"linux常用命令","slug":"linux常用命令","date":"2022-12-12T09:59:07.000Z","updated":"2023-11-24T15:18:59.909Z","comments":true,"path":"api/articles/linux常用命令.json","excerpt":null,"covers":null,"content":"<h1 id=\"find命令\"><a href=\"#find命令\" class=\"headerlink\" title=\"find命令\"></a>find命令</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find 位置 -name <span class=\"string\">&#x27;名称&#x27;</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"aiApp执行命令\"><a href=\"#aiApp执行命令\" class=\"headerlink\" title=\"aiApp执行命令\"></a>aiApp执行命令</h1><h2 id=\"打印\"><a href=\"#打印\" class=\"headerlink\" title=\"打印\"></a>打印</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">tail</span> -F /mnt/data/log/ylog | grep aiApp</span><br></pre></td></tr></table></figure>\n<h2 id=\"运行\"><a href=\"#运行\" class=\"headerlink\" title=\"运行\"></a>运行</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/data/hq/bin/hqsetprop ctl.start aiApp</span><br></pre></td></tr></table></figure>\n<h2 id=\"停止\"><a href=\"#停止\" class=\"headerlink\" title=\"停止\"></a>停止</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/data/hq/bin/hqsetprop ctl.stop aiApp</span><br></pre></td></tr></table></figure>\n<h2 id=\"重启\"><a href=\"#重启\" class=\"headerlink\" title=\"重启\"></a>重启</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/data/hq/bin/hqsetprop ctl.restart aiApp</span><br></pre></td></tr></table></figure>\n<h1 id=\"查看与转换YUV图像：\"><a href=\"#查看与转换YUV图像：\" class=\"headerlink\" title=\"查看与转换YUV图像：\"></a>查看与转换YUV图像：</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffplay -pixel_format nv12 -f rawvideo -video_size 240x576 stitch_view.yuv</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg -pix_fmt nv12 -video_size 1280x720 -i src_1.yuv -y src_1.jpg</span><br></pre></td></tr></table></figure>\n<h1 id=\"ubuntu终端查看历史命令\"><a href=\"#ubuntu终端查看历史命令\" class=\"headerlink\" title=\"ubuntu终端查看历史命令\"></a>ubuntu终端查看历史命令</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">history</span> | grep some_command</span><br></pre></td></tr></table></figure>\n<h1 id=\"查看cup限制\"><a href=\"#查看cup限制\" class=\"headerlink\" title=\"查看cup限制\"></a>查看cup限制</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps | grep <span class=\"built_in\">limit</span> </span><br></pre></td></tr></table></figure>\n<h1 id=\"1126关闭DNS验证\"><a href=\"#1126关闭DNS验证\" class=\"headerlink\" title=\"1126关闭DNS验证\"></a>1126关闭DNS验证</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/nsswitch.conf</span><br></pre></td></tr></table></figure>\n<p>或者直接替换对应字段</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sed -i <span class=\"string\">&quot;s/dns/#dns/g&quot;</span> `grep <span class=\"string\">&quot;dns&quot;</span> -rl /etc/nsswitch.conf`</span><br></pre></td></tr></table></figure>\n<ul>\n<li>注释 dns选项，如下所示：<blockquote>\n<p>hosts:          files #dns<br>networks:       files #dns</p>\n</blockquote>\n</li>\n</ul>\n<h1 id=\"强制关闭窗口\"><a href=\"#强制关闭窗口\" class=\"headerlink\" title=\"强制关闭窗口\"></a>强制关闭窗口</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xkill</span><br></pre></td></tr></table></figure>\n<ul>\n<li>然后移动鼠标点击需要关闭的窗口即可</li>\n</ul>\n<h1 id=\"修改aiapp的cpu限制\"><a href=\"#修改aiapp的cpu限制\" class=\"headerlink\" title=\"修改aiapp的cpu限制\"></a>修改aiapp的cpu限制</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /exapp/sh/run.sh</span><br></pre></td></tr></table></figure>\n<ul>\n<li>修改允许aiapp使用的cpu百分比 XX<blockquote>\n<p>#……………aiApp…CPU………<br>&#x2F;data&#x2F;hq&#x2F;bin&#x2F;cpulimit -l XX -e aiApp &amp;</p>\n</blockquote>\n</li>\n</ul>\n<h1 id=\"本地gitlab库添加远程库信任\"><a href=\"#本地gitlab库添加远程库信任\" class=\"headerlink\" title=\"本地gitlab库添加远程库信任\"></a>本地gitlab库添加远程库信任</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global --add safe.directory /media/geiyiren/MyCode/AVM/avm_2d/master/avm_cpu_algo</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"保存yuv-buf图像\"><a href=\"#保存yuv-buf图像\" class=\"headerlink\" title=\"保存yuv buf图像\"></a>保存yuv buf图像</h1><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FILE *fp_dump = <span class=\"built_in\">fopen</span>(<span class=\"string\">&quot;bsd_1.yuv&quot;</span>, <span class=\"string\">&quot;wb+&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (fp_dump == <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;fp_dump open fail\\n&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;fp_dump cam  yuv open success\\n&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">size_t</span> bytes_write = <span class=\"built_in\">fwrite</span>(p_yuv_buf[<span class=\"number\">1</span>], width * height * <span class=\"number\">3</span> / <span class=\"number\">2</span> , <span class=\"number\">1</span>, fp_dump);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (bytes_write &lt;= <span class=\"number\">0</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;write raw_stream fail !!!\\n&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">fclose</span>(fp_dump);</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"批量将jpg转换为yuv\"><a href=\"#批量将jpg转换为yuv\" class=\"headerlink\" title=\"批量将jpg转换为yuv\"></a>批量将jpg转换为yuv</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#! /bin/bash</span></span><br><span class=\"line\">files=$(<span class=\"built_in\">ls</span> <span class=\"variable\">$folder</span>)</span><br><span class=\"line\">yuv=<span class=\"string\">&quot;yuv&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> <span class=\"variable\">$files</span></span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;file:0:13&#125;</span></span><br><span class=\"line\">  file_name=<span class=\"variable\">$&#123;file:0:13&#125;</span></span><br><span class=\"line\">  str=$file_name<span class=\"variable\">$yuv</span></span><br><span class=\"line\">  ffmpeg -i <span class=\"variable\">$file</span> -s 1280*720 -pix_fmt nv12 <span class=\"variable\">$str</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"abd-常用命令\"><a href=\"#abd-常用命令\" class=\"headerlink\" title=\"abd 常用命令\"></a>abd 常用命令</h1><h2 id=\"打开调试端口\"><a href=\"#打开调试端口\" class=\"headerlink\" title=\"打开调试端口\"></a>打开调试端口</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb tcpip 5555</span><br></pre></td></tr></table></figure>\n<h2 id=\"连接\"><a href=\"#连接\" class=\"headerlink\" title=\"连接\"></a>连接</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb connect 10.10.200.140</span><br></pre></td></tr></table></figure>\n<h2 id=\"进入远程终端\"><a href=\"#进入远程终端\" class=\"headerlink\" title=\"进入远程终端\"></a>进入远程终端</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell</span><br></pre></td></tr></table></figure>\n<h2 id=\"关闭服务\"><a href=\"#关闭服务\" class=\"headerlink\" title=\"关闭服务\"></a>关闭服务</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb kill-server</span><br></pre></td></tr></table></figure>\n<h2 id=\"启动服务\"><a href=\"#启动服务\" class=\"headerlink\" title=\"启动服务\"></a>启动服务</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb start-server</span><br></pre></td></tr></table></figure>\n<h2 id=\"重新挂载\"><a href=\"#重新挂载\" class=\"headerlink\" title=\"重新挂载\"></a>重新挂载</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb remount</span><br></pre></td></tr></table></figure>\n<h2 id=\"获取root权限\"><a href=\"#获取root权限\" class=\"headerlink\" title=\"获取root权限\"></a>获取root权限</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb root</span><br></pre></td></tr></table></figure>\n<h2 id=\"安卓录制屏幕\"><a href=\"#安卓录制屏幕\" class=\"headerlink\" title=\"安卓录制屏幕\"></a>安卓录制屏幕</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell screenrecord  --time-limit 12 /sdcard/name.mp4</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h1 id=\"安卓设备开启USB\"><a href=\"#安卓设备开启USB\" class=\"headerlink\" title=\"安卓设备开启USB\"></a>安卓设备开启USB</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setprop persist.otg.mode device</span><br></pre></td></tr></table></figure>\n<ul>\n<li>远程登录后使用上述命令</li>\n</ul>\n<h1 id=\"远程为安卓设备安装软件\"><a href=\"#远程为安卓设备安装软件\" class=\"headerlink\" title=\"远程为安卓设备安装软件\"></a>远程为安卓设备安装软件</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb install Launcher3.apk</span><br></pre></td></tr></table></figure>\n<ul>\n<li>在本地执行上述命令</li>\n</ul>\n<h1 id=\"查看当前文件下所有文件大小\"><a href=\"#查看当前文件下所有文件大小\" class=\"headerlink\" title=\"查看当前文件下所有文件大小\"></a>查看当前文件下所有文件大小</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#以M为单位查看当前文件下所有文件的大小，包含隐藏文件</span></span><br><span class=\"line\"><span class=\"built_in\">du</span> -sm .[!.]* * | <span class=\"built_in\">sort</span> -hr</span><br></pre></td></tr></table></figure>\n<h1 id=\"查看磁盘剩余空间\"><a href=\"#查看磁盘剩余空间\" class=\"headerlink\" title=\"查看磁盘剩余空间\"></a>查看磁盘剩余空间</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">df</span> -hl</span><br></pre></td></tr></table></figure>\n<h1 id=\"github访问加速\"><a href=\"#github访问加速\" class=\"headerlink\" title=\"github访问加速\"></a>github访问加速</h1><h2 id=\"查询IP\"><a href=\"#查询IP\" class=\"headerlink\" title=\"查询IP\"></a>查询IP</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#github.global.ssl.fastly.net 网站IP</span></span><br><span class=\"line\">nslookup github.global.ssl.fastly.net</span><br><span class=\"line\"><span class=\"comment\">#github.com 网站IP</span></span><br><span class=\"line\">nslookup github.com</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"更改host文件\"><a href=\"#更改host文件\" class=\"headerlink\" title=\"更改host文件\"></a>更改host文件</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo gedit /etc/hosts</span><br></pre></td></tr></table></figure>\n<ul>\n<li>将上述查询到的IP复制到对应位置</li>\n</ul>\n<h2 id=\"更新host文件\"><a href=\"#更新host文件\" class=\"headerlink\" title=\"更新host文件\"></a>更新host文件</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo /etc/init.d/network-manager restart</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"BSD测试程序运行命令\"><a href=\"#BSD测试程序运行命令\" class=\"headerlink\" title=\"BSD测试程序运行命令\"></a>BSD测试程序运行命令</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#801-s(rv1126)测试BSD程序运行命令</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /exapp/app</span><br><span class=\"line\">./bsd_proc_test -d /dev/video0 -w 1280 -h 720</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"鸿鹄\"><a href=\"#鸿鹄\" class=\"headerlink\" title=\"鸿鹄\"></a>鸿鹄</h1><h2 id=\"鸿鹄设备常用命令\"><a href=\"#鸿鹄设备常用命令\" class=\"headerlink\" title=\"鸿鹄设备常用命令\"></a>鸿鹄设备常用命令</h2><ul>\n<li>以root身份挂载<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb root &amp;&amp; adb remount</span><br></pre></td></tr></table></figure></li>\n<li>推送apk<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /media/geiyiren/MyCode/AVM/avm_gpu_algo/branch/MultiCameraDemo/avm_gpu_algo/app/build/outputs/apk/debug</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb <span class=\"keyword\">push</span> MultiCameraDemo.apk <span class=\"regexp\">/system/</span>priv-app<span class=\"regexp\">/MultiCameraDemo/</span></span><br></pre></td></tr></table></figure></li>\n<li>推送库文件<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /media/geiyiren/MyCode/AVM/avm_gpu_algo/branch/AVM_BSD_honghu/avm_gpu_algo/libs/arm64-v8a</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb push libavmjni.so /system/priv-app/MultiCameraDemo/lib/arm64/</span><br></pre></td></tr></table></figure></li>\n<li>查看log日志<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell logcat &gt; log.txt</span><br></pre></td></tr></table></figure></li>\n<li>保存NATIVE_LOG日志(cpp端打印信息)<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell logcat -s NATIVE_LOG &gt; log.txt</span><br></pre></td></tr></table></figure></li>\n<li>保存程序运行严重错误日志(一般程序异常退出时打印该log)<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell logcat *:F &gt; log.txt</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"鸿鹄设备资源存储位置\"><a href=\"#鸿鹄设备资源存储位置\" class=\"headerlink\" title=\"鸿鹄设备资源存储位置\"></a>鸿鹄设备资源存储位置</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data</span><br><span class=\"line\">└── gpu0------------</span><br><span class=\"line\">    ├── calibrate</span><br><span class=\"line\">    │   ├── **CALMAT.BIN**</span><br><span class=\"line\">    │   └── **LENS.BIN**</span><br><span class=\"line\">    └── shader</span><br><span class=\"line\">        ├── **avm_3d_blend_lut.bin**</span><br><span class=\"line\">        ├── **avm_3d_indices.bin**</span><br><span class=\"line\">        ├── **avm_3d_lut.bin**</span><br><span class=\"line\">        ├── car_model_line.fs</span><br><span class=\"line\">        ├── car_model_line.vs</span><br><span class=\"line\">        ├── car_model_test.fs</span><br><span class=\"line\">        ├── car_model_test.vs</span><br></pre></td></tr></table></figure>\n<h2 id=\"鸿鹄Bug查询关键字\"><a href=\"#鸿鹄Bug查询关键字\" class=\"headerlink\" title=\"鸿鹄Bug查询关键字\"></a>鸿鹄Bug查询关键字</h2><table>\n<thead>\n<tr>\n<th>关键字</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>dlopen</td>\n<td align=\"left\">文件缺失标志</td>\n</tr>\n<tr>\n<td>crash</td>\n<td align=\"left\">程序报错抛出异常标志</td>\n</tr>\n<tr>\n<td>NATIVE_LOG</td>\n<td align=\"left\">AVM cpp端的打印</td>\n</tr>\n</tbody></table>\n<h2 id=\"鸿鹄CPU占用与GPU占用查看\"><a href=\"#鸿鹄CPU占用与GPU占用查看\" class=\"headerlink\" title=\"鸿鹄CPU占用与GPU占用查看\"></a>鸿鹄CPU占用与GPU占用查看</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># adb登录后执行如下命令:</span></span><br><span class=\"line\"><span class=\"comment\">## GPU</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> /sys/class/kgsl/kgsl-3d0/gpu_busy_percentage</span><br><span class=\"line\">watch -n 1 <span class=\"built_in\">cat</span> /sys/class/kgsl/kgsl-3d0/gpu_busy_percentage</span><br><span class=\"line\"><span class=\"comment\">## CPU</span></span><br><span class=\"line\">top</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>更加详细的资源查看可参照：软件snapdragonprofiler_external_linux</p>\n<p>Snapdragon Profiler是高通开发的用于调试分析高通Adreno GPU的一款桌面应用，支持Windows、MacOS 和 Linux 。在调试opengles应用程序上能发挥非常重要的作用。该工具能够捕捉CPU、GPU、DSP、内存、功率、网络连接和设备运行时的发热数据等，具有Realtime、Trace Capture、Snapshot Capture 三种模式。实时(Realtime)模式用于实时跟踪数据，跟踪(Trace Capture)模式用于跟踪事件和数据，默认最大值是10秒。快照(Snapshot Capture)模式用于捕获OpenGL ES应用程序的当前帧并可以进行调试，包括单步调试绘制指令，查看和编辑着色器、程序、纹理以及查看像素历史的能力。着色器代码是通过反编译得到，得到的代码跟原glsl代码基本一致，并且可以在截图后修改glsl进行调试。</p>\n<p>作者：cain_huang<br>链接：<a href=\"https://www.jianshu.com/p/d8d1a231dada\">https://www.jianshu.com/p/d8d1a231dada</a><br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>\n</blockquote>\n<h1 id=\"ssh相关\"><a href=\"#ssh相关\" class=\"headerlink\" title=\"ssh相关\"></a>ssh相关</h1><h2 id=\"主机A免密登录主机B\"><a href=\"#主机A免密登录主机B\" class=\"headerlink\" title=\"主机A免密登录主机B\"></a>主机A免密登录主机B</h2><p>在主机A执行如下命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-copy-id 主机B的用户名@主机B的IP地址</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"NEON优化相关函数\"><a href=\"#NEON优化相关函数\" class=\"headerlink\" title=\"NEON优化相关函数\"></a>NEON优化相关函数</h1><h2 id=\"internal-prefetch\"><a href=\"#internal-prefetch\" class=\"headerlink\" title=\"internal::prefetch()\"></a>internal::prefetch()</h2><p>作用：将数据放在缓存中</p>\n<h2 id=\"vld1q\"><a href=\"#vld1q\" class=\"headerlink\" title=\"vld1q()\"></a>vld1q()</h2><p>作用：加载数据</p>\n<p>例如：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">float32x4_t</span> q0 = <span class=\"built_in\">vld1q_f32</span>(d0); <span class=\"comment\">// 加载 d0 地址起始的 4 个 float 数据到 q0</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"internal-getRowPtr\"><a href=\"#internal-getRowPtr\" class=\"headerlink\" title=\"internal::getRowPtr()\"></a>internal::getRowPtr()</h2><p>例如：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">internal::<span class=\"built_in\">getRowPtr</span>(src0Base, src0Stride, y);  <span class=\"comment\">//返回src0Base+src0Stride*y的地址</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"YUV图像转换\"><a href=\"#YUV图像转换\" class=\"headerlink\" title=\"YUV图像转换\"></a>YUV图像转换</h2><ul>\n<li><p>安装ffmpeg</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install ffmpeg</span><br></pre></td></tr></table></figure></li>\n<li><p>yuv查看</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffplay -pixel_format nv12 -f rawvideo -video_size 1920x1080 test.yuv</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>jpg –&gt; yuv</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg -i front0.jpg -s 1280*720 -pix_fmt nv12 front0.yuv</span><br></pre></td></tr></table></figure></li>\n<li><p>yuv –&gt; jpg</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg -pix_fmt nv12 -video_size 1280x800 -i src_1.yuv -y src_1.jpg</span><br></pre></td></tr></table></figure></li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">","more":"<h1 id=\"find命令\"><a href=\"#find命令\" class=\"headerlink\" title=\"find命令\"></a>find命令</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find 位置 -name <span class=\"string\">&#x27;名称&#x27;</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"aiApp执行命令\"><a href=\"#aiApp执行命令\" class=\"headerlink\" title=\"aiApp执行命令\"></a>aiApp执行命令</h1><h2 id=\"打印\"><a href=\"#打印\" class=\"headerlink\" title=\"打印\"></a>打印</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">tail</span> -F /mnt/data/log/ylog | grep aiApp</span><br></pre></td></tr></table></figure>\n<h2 id=\"运行\"><a href=\"#运行\" class=\"headerlink\" title=\"运行\"></a>运行</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/data/hq/bin/hqsetprop ctl.start aiApp</span><br></pre></td></tr></table></figure>\n<h2 id=\"停止\"><a href=\"#停止\" class=\"headerlink\" title=\"停止\"></a>停止</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/data/hq/bin/hqsetprop ctl.stop aiApp</span><br></pre></td></tr></table></figure>\n<h2 id=\"重启\"><a href=\"#重启\" class=\"headerlink\" title=\"重启\"></a>重启</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/data/hq/bin/hqsetprop ctl.restart aiApp</span><br></pre></td></tr></table></figure>\n<h1 id=\"查看与转换YUV图像：\"><a href=\"#查看与转换YUV图像：\" class=\"headerlink\" title=\"查看与转换YUV图像：\"></a>查看与转换YUV图像：</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffplay -pixel_format nv12 -f rawvideo -video_size 240x576 stitch_view.yuv</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg -pix_fmt nv12 -video_size 1280x720 -i src_1.yuv -y src_1.jpg</span><br></pre></td></tr></table></figure>\n<h1 id=\"ubuntu终端查看历史命令\"><a href=\"#ubuntu终端查看历史命令\" class=\"headerlink\" title=\"ubuntu终端查看历史命令\"></a>ubuntu终端查看历史命令</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">history</span> | grep some_command</span><br></pre></td></tr></table></figure>\n<h1 id=\"查看cup限制\"><a href=\"#查看cup限制\" class=\"headerlink\" title=\"查看cup限制\"></a>查看cup限制</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps | grep <span class=\"built_in\">limit</span> </span><br></pre></td></tr></table></figure>\n<h1 id=\"1126关闭DNS验证\"><a href=\"#1126关闭DNS验证\" class=\"headerlink\" title=\"1126关闭DNS验证\"></a>1126关闭DNS验证</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/nsswitch.conf</span><br></pre></td></tr></table></figure>\n<p>或者直接替换对应字段</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sed -i <span class=\"string\">&quot;s/dns/#dns/g&quot;</span> `grep <span class=\"string\">&quot;dns&quot;</span> -rl /etc/nsswitch.conf`</span><br></pre></td></tr></table></figure>\n<ul>\n<li>注释 dns选项，如下所示：<blockquote>\n<p>hosts:          files #dns<br>networks:       files #dns</p>\n</blockquote>\n</li>\n</ul>\n<h1 id=\"强制关闭窗口\"><a href=\"#强制关闭窗口\" class=\"headerlink\" title=\"强制关闭窗口\"></a>强制关闭窗口</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xkill</span><br></pre></td></tr></table></figure>\n<ul>\n<li>然后移动鼠标点击需要关闭的窗口即可</li>\n</ul>\n<h1 id=\"修改aiapp的cpu限制\"><a href=\"#修改aiapp的cpu限制\" class=\"headerlink\" title=\"修改aiapp的cpu限制\"></a>修改aiapp的cpu限制</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /exapp/sh/run.sh</span><br></pre></td></tr></table></figure>\n<ul>\n<li>修改允许aiapp使用的cpu百分比 XX<blockquote>\n<p>#……………aiApp…CPU………<br>&#x2F;data&#x2F;hq&#x2F;bin&#x2F;cpulimit -l XX -e aiApp &amp;</p>\n</blockquote>\n</li>\n</ul>\n<h1 id=\"本地gitlab库添加远程库信任\"><a href=\"#本地gitlab库添加远程库信任\" class=\"headerlink\" title=\"本地gitlab库添加远程库信任\"></a>本地gitlab库添加远程库信任</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global --add safe.directory /media/geiyiren/MyCode/AVM/avm_2d/master/avm_cpu_algo</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"保存yuv-buf图像\"><a href=\"#保存yuv-buf图像\" class=\"headerlink\" title=\"保存yuv buf图像\"></a>保存yuv buf图像</h1><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FILE *fp_dump = <span class=\"built_in\">fopen</span>(<span class=\"string\">&quot;bsd_1.yuv&quot;</span>, <span class=\"string\">&quot;wb+&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (fp_dump == <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;fp_dump open fail\\n&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;fp_dump cam  yuv open success\\n&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">size_t</span> bytes_write = <span class=\"built_in\">fwrite</span>(p_yuv_buf[<span class=\"number\">1</span>], width * height * <span class=\"number\">3</span> / <span class=\"number\">2</span> , <span class=\"number\">1</span>, fp_dump);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (bytes_write &lt;= <span class=\"number\">0</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;write raw_stream fail !!!\\n&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">fclose</span>(fp_dump);</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"批量将jpg转换为yuv\"><a href=\"#批量将jpg转换为yuv\" class=\"headerlink\" title=\"批量将jpg转换为yuv\"></a>批量将jpg转换为yuv</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#! /bin/bash</span></span><br><span class=\"line\">files=$(<span class=\"built_in\">ls</span> <span class=\"variable\">$folder</span>)</span><br><span class=\"line\">yuv=<span class=\"string\">&quot;yuv&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> <span class=\"variable\">$files</span></span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;file:0:13&#125;</span></span><br><span class=\"line\">  file_name=<span class=\"variable\">$&#123;file:0:13&#125;</span></span><br><span class=\"line\">  str=$file_name<span class=\"variable\">$yuv</span></span><br><span class=\"line\">  ffmpeg -i <span class=\"variable\">$file</span> -s 1280*720 -pix_fmt nv12 <span class=\"variable\">$str</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"abd-常用命令\"><a href=\"#abd-常用命令\" class=\"headerlink\" title=\"abd 常用命令\"></a>abd 常用命令</h1><h2 id=\"打开调试端口\"><a href=\"#打开调试端口\" class=\"headerlink\" title=\"打开调试端口\"></a>打开调试端口</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb tcpip 5555</span><br></pre></td></tr></table></figure>\n<h2 id=\"连接\"><a href=\"#连接\" class=\"headerlink\" title=\"连接\"></a>连接</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb connect 10.10.200.140</span><br></pre></td></tr></table></figure>\n<h2 id=\"进入远程终端\"><a href=\"#进入远程终端\" class=\"headerlink\" title=\"进入远程终端\"></a>进入远程终端</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell</span><br></pre></td></tr></table></figure>\n<h2 id=\"关闭服务\"><a href=\"#关闭服务\" class=\"headerlink\" title=\"关闭服务\"></a>关闭服务</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb kill-server</span><br></pre></td></tr></table></figure>\n<h2 id=\"启动服务\"><a href=\"#启动服务\" class=\"headerlink\" title=\"启动服务\"></a>启动服务</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb start-server</span><br></pre></td></tr></table></figure>\n<h2 id=\"重新挂载\"><a href=\"#重新挂载\" class=\"headerlink\" title=\"重新挂载\"></a>重新挂载</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb remount</span><br></pre></td></tr></table></figure>\n<h2 id=\"获取root权限\"><a href=\"#获取root权限\" class=\"headerlink\" title=\"获取root权限\"></a>获取root权限</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb root</span><br></pre></td></tr></table></figure>\n<h2 id=\"安卓录制屏幕\"><a href=\"#安卓录制屏幕\" class=\"headerlink\" title=\"安卓录制屏幕\"></a>安卓录制屏幕</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell screenrecord  --time-limit 12 /sdcard/name.mp4</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h1 id=\"安卓设备开启USB\"><a href=\"#安卓设备开启USB\" class=\"headerlink\" title=\"安卓设备开启USB\"></a>安卓设备开启USB</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setprop persist.otg.mode device</span><br></pre></td></tr></table></figure>\n<ul>\n<li>远程登录后使用上述命令</li>\n</ul>\n<h1 id=\"远程为安卓设备安装软件\"><a href=\"#远程为安卓设备安装软件\" class=\"headerlink\" title=\"远程为安卓设备安装软件\"></a>远程为安卓设备安装软件</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb install Launcher3.apk</span><br></pre></td></tr></table></figure>\n<ul>\n<li>在本地执行上述命令</li>\n</ul>\n<h1 id=\"查看当前文件下所有文件大小\"><a href=\"#查看当前文件下所有文件大小\" class=\"headerlink\" title=\"查看当前文件下所有文件大小\"></a>查看当前文件下所有文件大小</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#以M为单位查看当前文件下所有文件的大小，包含隐藏文件</span></span><br><span class=\"line\"><span class=\"built_in\">du</span> -sm .[!.]* * | <span class=\"built_in\">sort</span> -hr</span><br></pre></td></tr></table></figure>\n<h1 id=\"查看磁盘剩余空间\"><a href=\"#查看磁盘剩余空间\" class=\"headerlink\" title=\"查看磁盘剩余空间\"></a>查看磁盘剩余空间</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">df</span> -hl</span><br></pre></td></tr></table></figure>\n<h1 id=\"github访问加速\"><a href=\"#github访问加速\" class=\"headerlink\" title=\"github访问加速\"></a>github访问加速</h1><h2 id=\"查询IP\"><a href=\"#查询IP\" class=\"headerlink\" title=\"查询IP\"></a>查询IP</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#github.global.ssl.fastly.net 网站IP</span></span><br><span class=\"line\">nslookup github.global.ssl.fastly.net</span><br><span class=\"line\"><span class=\"comment\">#github.com 网站IP</span></span><br><span class=\"line\">nslookup github.com</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"更改host文件\"><a href=\"#更改host文件\" class=\"headerlink\" title=\"更改host文件\"></a>更改host文件</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo gedit /etc/hosts</span><br></pre></td></tr></table></figure>\n<ul>\n<li>将上述查询到的IP复制到对应位置</li>\n</ul>\n<h2 id=\"更新host文件\"><a href=\"#更新host文件\" class=\"headerlink\" title=\"更新host文件\"></a>更新host文件</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo /etc/init.d/network-manager restart</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"BSD测试程序运行命令\"><a href=\"#BSD测试程序运行命令\" class=\"headerlink\" title=\"BSD测试程序运行命令\"></a>BSD测试程序运行命令</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#801-s(rv1126)测试BSD程序运行命令</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /exapp/app</span><br><span class=\"line\">./bsd_proc_test -d /dev/video0 -w 1280 -h 720</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"鸿鹄\"><a href=\"#鸿鹄\" class=\"headerlink\" title=\"鸿鹄\"></a>鸿鹄</h1><h2 id=\"鸿鹄设备常用命令\"><a href=\"#鸿鹄设备常用命令\" class=\"headerlink\" title=\"鸿鹄设备常用命令\"></a>鸿鹄设备常用命令</h2><ul>\n<li>以root身份挂载<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb root &amp;&amp; adb remount</span><br></pre></td></tr></table></figure></li>\n<li>推送apk<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /media/geiyiren/MyCode/AVM/avm_gpu_algo/branch/MultiCameraDemo/avm_gpu_algo/app/build/outputs/apk/debug</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb <span class=\"keyword\">push</span> MultiCameraDemo.apk <span class=\"regexp\">/system/</span>priv-app<span class=\"regexp\">/MultiCameraDemo/</span></span><br></pre></td></tr></table></figure></li>\n<li>推送库文件<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /media/geiyiren/MyCode/AVM/avm_gpu_algo/branch/AVM_BSD_honghu/avm_gpu_algo/libs/arm64-v8a</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb push libavmjni.so /system/priv-app/MultiCameraDemo/lib/arm64/</span><br></pre></td></tr></table></figure></li>\n<li>查看log日志<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell logcat &gt; log.txt</span><br></pre></td></tr></table></figure></li>\n<li>保存NATIVE_LOG日志(cpp端打印信息)<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell logcat -s NATIVE_LOG &gt; log.txt</span><br></pre></td></tr></table></figure></li>\n<li>保存程序运行严重错误日志(一般程序异常退出时打印该log)<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell logcat *:F &gt; log.txt</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"鸿鹄设备资源存储位置\"><a href=\"#鸿鹄设备资源存储位置\" class=\"headerlink\" title=\"鸿鹄设备资源存储位置\"></a>鸿鹄设备资源存储位置</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data</span><br><span class=\"line\">└── gpu0------------</span><br><span class=\"line\">    ├── calibrate</span><br><span class=\"line\">    │   ├── **CALMAT.BIN**</span><br><span class=\"line\">    │   └── **LENS.BIN**</span><br><span class=\"line\">    └── shader</span><br><span class=\"line\">        ├── **avm_3d_blend_lut.bin**</span><br><span class=\"line\">        ├── **avm_3d_indices.bin**</span><br><span class=\"line\">        ├── **avm_3d_lut.bin**</span><br><span class=\"line\">        ├── car_model_line.fs</span><br><span class=\"line\">        ├── car_model_line.vs</span><br><span class=\"line\">        ├── car_model_test.fs</span><br><span class=\"line\">        ├── car_model_test.vs</span><br></pre></td></tr></table></figure>\n<h2 id=\"鸿鹄Bug查询关键字\"><a href=\"#鸿鹄Bug查询关键字\" class=\"headerlink\" title=\"鸿鹄Bug查询关键字\"></a>鸿鹄Bug查询关键字</h2><table>\n<thead>\n<tr>\n<th>关键字</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>dlopen</td>\n<td align=\"left\">文件缺失标志</td>\n</tr>\n<tr>\n<td>crash</td>\n<td align=\"left\">程序报错抛出异常标志</td>\n</tr>\n<tr>\n<td>NATIVE_LOG</td>\n<td align=\"left\">AVM cpp端的打印</td>\n</tr>\n</tbody></table>\n<h2 id=\"鸿鹄CPU占用与GPU占用查看\"><a href=\"#鸿鹄CPU占用与GPU占用查看\" class=\"headerlink\" title=\"鸿鹄CPU占用与GPU占用查看\"></a>鸿鹄CPU占用与GPU占用查看</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># adb登录后执行如下命令:</span></span><br><span class=\"line\"><span class=\"comment\">## GPU</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> /sys/class/kgsl/kgsl-3d0/gpu_busy_percentage</span><br><span class=\"line\">watch -n 1 <span class=\"built_in\">cat</span> /sys/class/kgsl/kgsl-3d0/gpu_busy_percentage</span><br><span class=\"line\"><span class=\"comment\">## CPU</span></span><br><span class=\"line\">top</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>更加详细的资源查看可参照：软件snapdragonprofiler_external_linux</p>\n<p>Snapdragon Profiler是高通开发的用于调试分析高通Adreno GPU的一款桌面应用，支持Windows、MacOS 和 Linux 。在调试opengles应用程序上能发挥非常重要的作用。该工具能够捕捉CPU、GPU、DSP、内存、功率、网络连接和设备运行时的发热数据等，具有Realtime、Trace Capture、Snapshot Capture 三种模式。实时(Realtime)模式用于实时跟踪数据，跟踪(Trace Capture)模式用于跟踪事件和数据，默认最大值是10秒。快照(Snapshot Capture)模式用于捕获OpenGL ES应用程序的当前帧并可以进行调试，包括单步调试绘制指令，查看和编辑着色器、程序、纹理以及查看像素历史的能力。着色器代码是通过反编译得到，得到的代码跟原glsl代码基本一致，并且可以在截图后修改glsl进行调试。</p>\n<p>作者：cain_huang<br>链接：<a href=\"https://www.jianshu.com/p/d8d1a231dada\">https://www.jianshu.com/p/d8d1a231dada</a><br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>\n</blockquote>\n<h1 id=\"ssh相关\"><a href=\"#ssh相关\" class=\"headerlink\" title=\"ssh相关\"></a>ssh相关</h1><h2 id=\"主机A免密登录主机B\"><a href=\"#主机A免密登录主机B\" class=\"headerlink\" title=\"主机A免密登录主机B\"></a>主机A免密登录主机B</h2><p>在主机A执行如下命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-copy-id 主机B的用户名@主机B的IP地址</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"NEON优化相关函数\"><a href=\"#NEON优化相关函数\" class=\"headerlink\" title=\"NEON优化相关函数\"></a>NEON优化相关函数</h1><h2 id=\"internal-prefetch\"><a href=\"#internal-prefetch\" class=\"headerlink\" title=\"internal::prefetch()\"></a>internal::prefetch()</h2><p>作用：将数据放在缓存中</p>\n<h2 id=\"vld1q\"><a href=\"#vld1q\" class=\"headerlink\" title=\"vld1q()\"></a>vld1q()</h2><p>作用：加载数据</p>\n<p>例如：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">float32x4_t</span> q0 = <span class=\"built_in\">vld1q_f32</span>(d0); <span class=\"comment\">// 加载 d0 地址起始的 4 个 float 数据到 q0</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"internal-getRowPtr\"><a href=\"#internal-getRowPtr\" class=\"headerlink\" title=\"internal::getRowPtr()\"></a>internal::getRowPtr()</h2><p>例如：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">internal::<span class=\"built_in\">getRowPtr</span>(src0Base, src0Stride, y);  <span class=\"comment\">//返回src0Base+src0Stride*y的地址</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"YUV图像转换\"><a href=\"#YUV图像转换\" class=\"headerlink\" title=\"YUV图像转换\"></a>YUV图像转换</h2><ul>\n<li><p>安装ffmpeg</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install ffmpeg</span><br></pre></td></tr></table></figure></li>\n<li><p>yuv查看</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffplay -pixel_format nv12 -f rawvideo -video_size 1920x1080 test.yuv</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>jpg –&gt; yuv</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg -i front0.jpg -s 1280*720 -pix_fmt nv12 front0.yuv</span><br></pre></td></tr></table></figure></li>\n<li><p>yuv –&gt; jpg</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg -pix_fmt nv12 -video_size 1280x800 -i src_1.yuv -y src_1.jpg</span><br></pre></td></tr></table></figure></li>\n</ul>\n","categories":[{"name":"linux","path":"api/categories/linux.json"}],"tags":[{"name":"linux","path":"api/tags/linux.json"},{"name":"终端","path":"api/tags/终端.json"}]}